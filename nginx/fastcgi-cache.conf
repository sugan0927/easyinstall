# FastCGI Cache Configuration
fastcgi_cache_path /var/cache/nginx levels=1:2 keys_zone=WORDPRESS:100m inactive=60m;
fastcgi_cache_key "$scheme$request_method$host$request_uri";
fastcgi_cache_use_stale error timeout updating invalid_header http_500 http_503;
fastcgi_cache_lock on;
fastcgi_cache_valid 200 301 302 60m;
fastcgi_cache_valid 404 1m;
fastcgi_ignore_headers Cache-Control Expires Set-Cookie;

# Cache bypass conditions
fastcgi_cache_bypass $skip_cache;
fastcgi_no_cache $skip_cache;

# Security headers
add_header X-Cache $upstream_cache_status;
